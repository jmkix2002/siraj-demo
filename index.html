<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ุณุฑุงุฌ - Demo</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="app">

    <!-- ===================== -->
    <!-- ุดุงุดุฉ: ุงูุฑุฆูุณูุฉ -->
    <!-- ===================== -->
    <section id="home" class="screen active">

      <div class="topbar">
        <button class="topbtn" type="button" aria-label="ุงูุญุณุงุจ">
          <svg class="topsvg" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M12 12c2.76 0 5-2.24 5-5S14.76 2 12 2 7 4.24 7 7s2.24 5 5 5Zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5Z"/>
          </svg>
        </button>

        <button class="topbtn dark" type="button" aria-label="ุงูุฅุดุนุงุฑุงุช">
          <svg class="topsvg" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M12 22a2 2 0 0 0 2-2h-4a2 2 0 0 0 2 2Zm6-6V11a6 6 0 0 0-5-5.91V4a1 1 0 1 0-2 0v1.09A6 6 0 0 0 6 11v5L4 18v1h16v-1l-2-2Z"/>
          </svg>
          <span class="dot" aria-hidden="true"></span>
        </button>
      </div>

      <!-- ูุฑุช ุงูุตูุงุฉ -->
      <div class="prayer-card">
        <div class="prayer-date">ุงูุฃุญุฏ 15/7/1447ูู</div>
        <div class="prayer-row">
          <div class="pitem">ุงููุฌุฑ<div class="picon">๐</div><span>05:28</span></div>
          <div class="pitem">ุงูุดุฑูู<div class="picon">๐</div><span>06:50</span></div>
          <div class="pitem">ุงูุธูุฑ<div class="picon">โ๏ธ</div><span>12:28</span></div>
          <div class="pitem">ุงูุนุตุฑ<div class="picon">โ๏ธ</div><span>03:28</span></div>
          <div class="pitem">ุงููุบุฑุจ<div class="picon">๐</div><span>05:28</span></div>
          <div class="pitem">ุงูุนุดุงุก<div class="picon">๐</div><span>07:00</span></div>
        </div>
        <div class="prayer-remaining">ุงููุชุจูู ุนูู ุตูุงุฉ ุงููุบุฑุจ - 00:11:10</div>
      </div>

      <!-- ุฎุฑูุทุฉ ุฑุฆูุณูุฉ -->
      <div class="map-card realmap" id="mapCard" role="button" tabindex="0" aria-label="ุงูุฎุฑูุทุฉ">
        <iframe
          id="mapFrame"
          title="ุฎุฑูุทุฉ"
          src="https://www.openstreetmap.org/export/embed.html?bbox=39.600%2C24.450%2C39.700%2C24.520&layer=mapnik"
          loading="lazy"></iframe>
        <div class="map-clicklayer" id="mapClickLayer" aria-hidden="true"></div>
      </div>

      <!-- ุงูุฎุฏูุงุช -->
      <div class="services-grid">
        <button class="service" type="button" data-service="parking">
          <div class="circle"><span class="fallback">P</span></div>
          <div class="label2">ุงูููุงูู</div>
        </button>

        <button class="service" type="button" data-service="wudu">
          <div class="circle"><span class="fallback">๐ฐ</span></div>
          <div class="label2">ูุฑุงูู ุงููุถูุก</div>
        </button>

        <button class="service" type="button" onclick="go('restrooms')">
          <div class="circle"><span class="fallback">๐ป</span></div>
          <div class="label2">ูุฑุงูู ุฏูุฑุงุช ุงูููุงู</div>
        </button>

        <button class="service" type="button" data-service="access">
          <div class="circle"><span class="fallback">โฟ</span></div>
          <div class="label2">ูุณุงุฑ ุฐูู ุงูุงุญุชูุงุฌุงุช ุงูุฎุงุตุฉ</div>
        </button>

        <button class="service" type="button" data-service="museum">
          <div class="circle"><span class="fallback">๐๏ธ</span></div>
          <div class="label2">ูุชุญู</div>
        </button>

        <button class="service" type="button" data-service="paths">
          <div class="circle"><span class="fallback">โก๏ธ</span></div>
          <div class="label2">ุงููุณุงุฑุงุช</div>
        </button>

        <button class="service" type="button" data-service="medical">
          <div class="circle"><span class="fallback">๐ฉบ</span></div>
          <div class="label2">ุฎุฏูุงุช ุทุจูุฉ</div>
        </button>

        <button class="service" type="button" data-service="qibla">
          <div class="circle"><span class="fallback">๐</span></div>
          <div class="label2">ุงุชุฌุงู ุงููุจูุฉ</div>
        </button>

        <button class="service" type="button" data-service="bus">
          <div class="circle"><span class="fallback">๐</span></div>
          <div class="label2">ููุงูู ุงูุจุงุตุงุช</div>
        </button>
      </div>
    </section>

    <!-- ===================== -->
    <!-- ุดุงุดุฉ: ุฏูุฑุงุช ุงูููุงู -->
    <!-- ===================== -->
    <section id="restrooms" class="screen">

      <div class="mini-top left">
        <button class="icon-btn" onclick="go('home')" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="service-title-card">
        <div class="service-icon-circle">๐ป</div>
        <div class="service-title-text">ูุฑุงูู ุฏูุฑุงุช ุงูููุงู</div>
      </div>

      <div class="choose-text">ุงุฎุชุฑ :</div>

      <div class="gender-row">
        <button class="gender-btn" id="menBtn" type="button">
          <span class="gicon">๐น</span><span>ุฑุฌุงู</span>
        </button>

        <button class="gender-btn" id="womenBtn" type="button">
          <span class="gicon">๐บ</span><span>ูุณุงุก</span>
        </button>
      </div>

      <div class="mosque3d-wrap">
        <img src="" alt="ุตูุฑุฉ 3D" class="mosque3d hidden" id="wc3dImage">
        <div class="placeholder" id="wc3dPlaceholder">
          ุงุฎุชุงุฑู (ุฑุฌุงู) ุฃู (ูุณุงุก) ูุนุฑุถ ุฃูุฑุจ ุฏูุฑุงุช ููุงู
        </div>
      </div>

      <div class="list-wrap hidden" id="listWrap">
        <div class="list-title">ุฃูุฑุจ ุฏูุฑุงุช ุงูููุงู</div>
        <div id="restroomList" class="restroom-list"></div>
      </div>

      <div class="bottom-panel hidden" id="navPanel">
        <div class="route-header">
          <div class="route-title">ุฎุฑูุทุฉ ุงููุณุงุฑ</div>
          <div class="route-sub" id="selectedRestroomText"></div>
        </div>

        <div class="route-map">
          <img src="" alt="ุฎุฑูุทุฉ ุงููุณุงุฑ" class="route-map-img" id="routeImg">
        </div>

        <button class="start-btn" id="startNavBtn" type="button">ุงุจุฏุฃ ุงูุชูุฌูู</button>
      </div>

    </section>

    <!-- ===================== -->
    <!-- โ ุดุงุดุฉ: QR Scanner -->
    <!-- ===================== -->
    <section id="qr" class="screen">
      <div class="topbar">
        <button class="topbtn dark" type="button" aria-label="ุงูุฅุดุนุงุฑุงุช">
          <svg class="topsvg" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M12 22a2 2 0 0 0 2-2h-4a2 2 0 0 0 2 2Zm6-6V11a6 6 0 0 0-5-5.91V4a1 1 0 1 0-2 0v1.09A6 6 0 0 0 6 11v5L4 18v1h16v-1l-2-2Z"/>
          </svg>
          <span class="dot" aria-hidden="true"></span>
        </button>

        <button class="topbtn" type="button" aria-label="ุงูุญุณุงุจ">
          <svg class="topsvg" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M12 12c2.76 0 5-2.24 5-5S14.76 2 12 2 7 4.24 7 7s2.24 5 5 5Zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5Z"/>
          </svg>
        </button>
      </div>

      <div class="qr-frame">
        <video id="qrVideo" playsinline autoplay muted></video>
        <div class="qr-overlay"></div>
      </div>

      <div class="qr-help">ุถุน ุงูุจุงุฑููุฏ ุฏุงุฎู ุงูุฅุทุงุฑ ูููุณุญ</div>

      <button class="flash-btn" id="flashBtn" type="button">โก ููุงุด</button>

      <div class="qr-note" id="qrNote">
        โ๏ธ ูุงุฒู ุชูุชุญูู ุนุจุฑ GitHub Pages ุฃู Live Server ุนุดุงู ุงููุงููุฑุง ุชุดุชุบู.
      </div>

      <div class="qr-mock">
        <input id="qrMockInput" type="text" placeholder="(ูุญุงูุงุฉ) ุงูุชุจู ููุฏ QR ููุง">
        <button id="qrMockBtn" type="button">ูุณุญ</button>
      </div>
    </section>

    <!-- ุงูุดุฑูุท ุงูุณููู -->
    <nav class="nav">
      <button class="navbtn" aria-label="ุงููุงุฆูุฉ" onclick="toastNotAvailable()">
        <span class="navicon">โฆ</span>
      </button>

      <button class="navbtn home" onclick="go('home')" aria-label="ุงูุฑุฆูุณูุฉ">
        <span class="navicon">โ</span>
      </button>

      <button class="navbtn" onclick="go('qr'); startCamera();" aria-label="QR">
        <span class="navicon">โฃ</span>
      </button>
    </nav>

  </div>

  <script src="app.js"></script>
</body>
</html>
