<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ุณุฑุงุฌ - Demo</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="app">

    <!-- ===================== -->
    <!-- Splash (ุงููููู) -->
    <!-- ===================== -->
    <section id="splash" class="screen active splash">
      <div class="bg-full"></div>
    </section>

    <!-- ===================== -->
    <!-- Auth (ุงุฎุชูุงุฑ: ุฏุฎูู/ุชุณุฌูู/ุถูู) -->
    <!-- ===================== -->
    <section id="auth" class="screen auth-screen">
      <div class="bg-full"></div>

      <div class="auth-actions">
        <button class="auth-btn primary" type="button" onclick="go('login')">ุชุณุฌูู ุงูุฏุฎูู</button>
        <button class="auth-btn secondary" type="button" onclick="go('register')">ุฅูุดุงุก ุญุณุงุจ</button>
        <button class="guest-link" id="guestBtn" type="button">ูุชุงุจุนุฉ ูุถูู</button>
      </div>
    </section>

    <!-- ===================== -->
    <!-- Login -->
    <!-- ===================== -->
    <section id="login" class="screen auth-form">
      <div class="mini-top left">
        <button class="icon-btn" type="button" onclick="go('auth')" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="auth-wrap">
        <h2 class="auth-title">ุชุณุฌูู ุงูุฏุฎูู</h2>
        <p class="auth-sub">ุฃุถู ุงูุชูุงุตูู ุงูุฎุงุตุฉ ุจู ูุชุณุฌูู ุงูุฏุฎูู</p>

        <form id="loginForm" class="form">
          <input class="input" type="email" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู" required>
          <input class="input" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" required>
          <button class="btn-main" type="submit">ุชุณุฌูู</button>
        </form>

        <p class="hint">ูู ูุณูุช ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจูุ</p>
      </div>
    </section>

    <!-- ===================== -->
    <!-- Register -->
    <!-- ===================== -->
    <section id="register" class="screen auth-form">
      <div class="mini-top left">
        <button class="icon-btn" type="button" onclick="go('auth')" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="auth-wrap">
        <h2 class="auth-title">ุงูุชุณุฌูู</h2>
        <p class="auth-sub">ุฃุถู ุงูุชูุงุตูู ุงูุฎุงุตุฉ ุจู ููุชุณุฌูู</p>

        <form id="registerForm" class="form">
          <input class="input" placeholder="ุงูุงุณู" required>
          <input class="input" placeholder="ุฑูู ุงูุฌูุงู" required>
          <input class="input" type="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
          <input class="input" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" required>
          <input class="input" type="password" placeholder="ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ" required>
          <button class="btn-main" type="submit">ุชุณุฌูู</button>
        </form>
      </div>
    </section>

    <!-- ===================== -->
    <!-- Home -->
    <!-- ===================== -->
    <section id="home" class="screen">

      <div class="topbar">
        <button class="topbtn" type="button" aria-label="ุงูุฅุดุนุงุฑุงุช">๐</button>

        <!-- ุชุณุฌูู ุฎุฑูุฌ -->
        <button class="topbtn" type="button" onclick="logout()" aria-label="ุชุณุฌูู ุฎุฑูุฌ">
          <svg class="icon24" viewBox="0 0 24 24" aria-hidden="true">
            <path fill="currentColor"
              d="M10 17v-2h4v-6h-4V7l-5 5 5 5Zm-7 4V3h9v2H5v14h7v2H3Zm13-3v-2h3v-8h-3V6h5v12h-5Z"/>
          </svg>
        </button>
      </div>

      <!-- ุชุฑุญูุจ ุจุงููุต -->
      <div class="welcome" id="welcomeText">ูุฑุญุจุงู</div>

      <!-- ููุงููุช ุงูุตูุงุฉ -->
      <div class="prayer-card">
        <div class="prayer-date" id="prayerDate">โ</div>

        <div class="prayer-row">
          <div class="pitem">ุงููุฌุฑ<div class="picon">๐</div><span id="tFajr">--:--</span></div>
          <div class="pitem">ุงูุดุฑูู<div class="picon">๐</div><span id="tSunrise">--:--</span></div>
          <div class="pitem">ุงูุธูุฑ<div class="picon">โ๏ธ</div><span id="tDhuhr">--:--</span></div>
          <div class="pitem">ุงูุนุตุฑ<div class="picon">โ๏ธ</div><span id="tAsr">--:--</span></div>
          <div class="pitem">ุงููุบุฑุจ<div class="picon">๐</div><span id="tMaghrib">--:--</span></div>
          <div class="pitem">ุงูุนุดุงุก<div class="picon">๐</div><span id="tIsha">--:--</span></div>
        </div>

        <div class="prayer-remaining" id="prayerRemaining">โ</div>
      </div>

      <!-- โ ุตูุฑุฉ ุงูุญุดูุฏ ุจุฏู ุงูุฎุฑูุทุฉ -->
      <div class="map-card crowd-card">
        <img
          src="assets/images/crowd-heatmap.png"
          alt="ุฎุฑูุทุฉ ุงูุญุดูุฏ"
          class="crowd-img"
        />
      </div>

      <!-- ุงูุฎุฏูุงุช -->
      <div class="services-grid">
        <button class="service" type="button" data-service="parking">
          <div class="circle">P</div><div class="label2">ุงูููุงูู</div>
        </button>

        <button class="service" type="button" onclick="go('wudu')">
          <div class="circle">๐ฐ</div><div class="label2">ูุฑุงูู ุงููุถูุก</div>
        </button>

        <button class="service" type="button" onclick="go('restrooms')">
          <div class="circle">๐ป</div><div class="label2">ูุฑุงูู ุฏูุฑุงุช ุงูููุงู</div>
        </button>

        <button class="service" type="button" data-service="access">
          <div class="circle">โฟ</div><div class="label2">ูุณุงุฑ ุฐูู ุงูุงุญุชูุงุฌุงุช ุงูุฎุงุตุฉ</div>
        </button>

        <button class="service" type="button" data-service="museum">
          <div class="circle">๐๏ธ</div><div class="label2">ูุชุญู</div>
        </button>

        <button class="service" type="button" data-service="paths">
          <div class="circle">โก๏ธ</div><div class="label2">ุงููุณุงุฑุงุช</div>
        </button>

        <button class="service" type="button" data-service="medical">
          <div class="circle">๐ฉบ</div><div class="label2">ุฎุฏูุงุช ุทุจูุฉ</div>
        </button>

        <button class="service" type="button" onclick="go('qibla')">
  <div class="circle">๐</div><div class="label2">ุงุชุฌุงู ุงููุจูุฉ</div>
</button>


        <button class="service" type="button" data-service="bus">
          <div class="circle">๐</div><div class="label2">ููุงูู ุงูุจุงุตุงุช</div>
        </button>
      </div>
    </section>

    <!-- ===================== -->
    <!-- Restrooms -->
    <!-- ===================== -->
    <section id="restrooms" class="screen">
      <div class="mini-top left">
        <button class="icon-btn" type="button" onclick="go('home')" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="service-title-card">
        <div class="service-icon-circle">๐ป</div>
        <div class="service-title-text">ูุฑุงูู ุฏูุฑุงุช ุงูููุงู</div>
      </div>

      <div class="choose-text">ุงุฎุชุฑ :</div>

      <div class="gender-row">
        <button class="gender-btn" id="menBtn" type="button">๐น ุฑุฌุงู</button>
        <button class="gender-btn" id="womenBtn" type="button">๐บ ูุณุงุก</button>
      </div>

      <div class="mosque3d-wrap">
        <img src="" alt="ุตูุฑุฉ 3D" class="mosque3d hidden" id="wc3dImage">
        <div class="placeholder" id="wc3dPlaceholder">ุงุฎุชุงุฑู (ุฑุฌุงู) ุฃู (ูุณุงุก) ูุนุฑุถ ุฃูุฑุจ ุฏูุฑุงุช ููุงู</div>
      </div>

      <div class="list-wrap hidden" id="listWrap">
        <div class="list-title">ุฃูุฑุจ ุฏูุฑุงุช ุงูููุงู</div>
        <div id="restroomList" class="restroom-list"></div>
      </div>

      <div class="bottom-panel hidden" id="navPanel">
        <div class="route-header">
          <div class="route-title">ุฎุฑูุทุฉ ุงููุณุงุฑ</div>
          <div class="route-sub" id="selectedRestroomText"></div>
        </div>

        <div class="route-map">
          <img src="" alt="ุฎุฑูุทุฉ ุงููุณุงุฑ" class="route-map-img" id="routeImg">
        </div>

        <button class="start-btn" id="startNavBtn" type="button">ุงุจุฏุฃ ุงูุชูุฌูู</button>
      </div>
    </section>

    <!-- ===================== -->
    <!-- Wudu (ูุฑุงูู ุงููุถูุก) -->
    <!-- ===================== -->
    <section id="wudu" class="screen">
      <div class="mini-top left">
        <button class="icon-btn" type="button" onclick="go('home')" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="service-title-card">
        <div class="service-icon-circle">๐ฐ</div>
        <div class="service-title-text">ูุฑุงูู ุงููุถูุก</div>
      </div>

      <div class="choose-text">ุงุฎุชุฑ :</div>

      <div class="gender-row">
        <button class="gender-btn" id="wMenBtn" type="button">๐น ุฑุฌุงู</button>
        <button class="gender-btn" id="wWomenBtn" type="button">๐บ ูุณุงุก</button>
      </div>

      <div class="mosque3d-wrap">
        <img src="" alt="ุตูุฑุฉ 3D" class="mosque3d hidden" id="wudu3dImage">
        <div class="placeholder" id="wudu3dPlaceholder">ุงุฎุชุงุฑู (ุฑุฌุงู) ุฃู (ูุณุงุก) ูุนุฑุถ ุฃูุฑุจ ูุฑุงูู ูุถูุก</div>
      </div>

      <div class="list-wrap hidden" id="wuduListWrap">
        <div class="list-title">ุฃูุฑุจ ูุฑุงูู ุงููุถูุก</div>
        <div id="wuduList" class="restroom-list"></div>
      </div>

      <div class="bottom-panel hidden" id="wuduNavPanel">
        <div class="route-header">
          <div class="route-title">ุฎุฑูุทุฉ ุงููุณุงุฑ</div>
          <div class="route-sub" id="wuduSelectedText"></div>
        </div>

        <div class="route-map">
          <img src="" alt="ุฎุฑูุทุฉ ุงููุณุงุฑ" class="route-map-img" id="wuduRouteImg">
        </div>

        <button class="start-btn" id="wuduStartNavBtn" type="button">ุงุจุฏุฃ ุงูุชูุฌูู</button>
      </div>
    </section>

<section id="qibla" class="screen">
  <div class="mini-top left">
    <button class="icon-btn" type="button" onclick="go('home')" aria-label="ุฑุฌูุน">โ</button>
  </div>

  <div class="service-title-card qibla-title-card">
    <div class="service-title-text">ุงุชุฌุงู ุงููุจูุฉ</div>
  </div>

  <div class="qibla-wrap">
    <div class="qibla-compass">
      <div class="qibla-ring"></div>
      <div class="qibla-needle" id="qiblaNeedle"></div>
      <div class="qibla-kaaba">๐</div>
    </div>

    <div class="qibla-deg" id="qiblaDeg">--ยฐ</div>

    <button class="qibla-action" id="qiblaEnableBtn" type="button">
      ุชูุนูู ุงูุจูุตูุฉ
    </button>

    <div class="qibla-hint" id="qiblaHint">ุงุณูุญู ุจุงููููุน ูุงูุจูุตูุฉ ููุธูุฑ ุงูุงุชุฌุงู</div>
  </div>
</section>


    <!-- ===================== -->
    <!-- QR -->
    <!-- ===================== -->
    <section id="qr" class="screen">
      <div class="mini-top left">
        <button class="icon-btn" type="button" onclick="go('home'); stopCamera();" aria-label="ุฑุฌูุน">โ</button>
      </div>

      <div class="qr-title">ุถุน ุงูุจุงุฑููุฏ ุฏุงุฎู ุงูุฅุทุงุฑ ูููุณุญ</div>

      <div class="qr-box" id="qrBox" role="button" tabindex="0" aria-label="ูุชุญ ุงููุงููุฑุง">
        <video id="qrVideo" playsinline autoplay muted></video>
        <div class="qr-corners" aria-hidden="true"></div>
        <div class="qr-tap" id="qrTap">ุงุถุบุท ููุชุญ ุงููุงููุฑุง</div>
      </div>

      <div class="qr-result hidden" id="qrResult">
        โ ุชู ุงููุณุญ (ูุญุงูุงุฉ): <span id="qrResultText"></span>
      </div>

      <button class="qr-clear" id="qrClearBtn" type="button">ูุณุญ</button>
    </section>

    <!-- ===================== -->
    <!-- Bottom nav (ูุธูุฑ ููุท ุจุนุฏ ุงูุฏุฎูู) -->
    <!-- ===================== -->
    <nav class="nav is-hidden" id="bottomNav">
      <button class="navbtn" id="navMenu" type="button" onclick="toastNotAvailable()" aria-label="ุงููุงุฆูุฉ">
        <span class="navicon">โฆ</span>
      </button>

      <button class="navbtn" id="navHome" type="button" onclick="go('home'); stopCamera();" aria-label="ุงูุฑุฆูุณูุฉ">
        <span class="navicon">โ</span>
      </button>

      <button class="navbtn" id="navQr" type="button" onclick="go('qr')" aria-label="QR">
        <span class="navicon">โฃ</span>
      </button>
    </nav>

  </div>

  <script src="./app.js"></script>
</body>
</html>
